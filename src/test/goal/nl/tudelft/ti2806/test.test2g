use "../../../../../main/goal/nl/tudelft/ti2806/Service.mas2g" as mas.
use "../../../../../main/goal/nl/tudelft/ti2806/serviceKnowledge.pl" as knowledge.
use "../../../../../main/goal/nl/tudelft/ti2806/serviceBeliefs.pl" as beliefs.
use "../../../../../main/goal/nl/tudelft/ti2806/serviceGoals.pl" as goals.
use "../../../../../main/goal/nl/tudelft/ti2806/service.act2g" as actionspec.
use "../../../../../main/goal/nl/tudelft/ti2806/service.mod2g" as module.
use "../../../../../main/goal/nl/tudelft/ti2806/buildConvenienceStore.mod2g" as module.
use "../../../../../main/goal/nl/tudelft/ti2806/buildSportsCenter.mod2g" as module.
use "../../../../../main/goal/nl/tudelft/ti2806/demolish.mod2g" as module.
use "../../../../../main/goal/nl/tudelft/ti2806/buyLand.mod2g" as module.
use "../../../../../main/goal/nl/tudelft/ti2806/buildTerrace.mod2g" as module.

timeout = 1.

% description: 
%	- Test if the building actions are executed.
%	- Test if the indicators are percepts.
%	- Test if the sportscenter goal is reach immidiatly (percentage is 99% and goal is 60%).
test main with
	in{
		eventually done(building_plan_construction(FunctionID, FloorSize, Multipolygon)).
		done(building_plan_construction(FunctionID, FloorSize, Multipolygon)) leadsto multipolygon(Multipolygon).
		eventually bel(buildSportsCenter).
		eventually bel(buurtwinkelIndicator(BCurrent, BTarget)). 
		eventually bel(sportcentrumIndicator(SCurrent, STarget)). 
		eventually bel(terrasIndicator(TCurrent, TTarget)).
	}

serviceAgent {
	do main.
}
