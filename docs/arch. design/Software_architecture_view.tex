\label{Software architecture views}
\section{Software architecture views}
This chapter discuses the architecture of the system. It is first split into smaller parts and their dependencies on each other. The second paragraph describes the relation between hardware and software is explained. The third paragraph explains the data management. And the fourth paragraph describes the concurrency of the system.

\subsection{Subsystem decomposition}

The component diagram at \textbf{figure~\ref{fig:comp_diag}} shows the relations between the Tygron API, the connector and the GOAL agent. 

\begin{figure}[h]
	  \centering
	  \includegraphics[width=0.7\textwidth]{system_decomposition}
	  \caption{The component diagram}
	  \label{fig:comp_diag}
\end{figure}
This figure shows the different components the project uses and how they connect to each each other. You can see how our bot connects to the connector which in turn will connect to the Tygron API. The Tygron API exists of the module SDK (software development kit) which consists of all the graphics and calculations, basicly the tygron game itself. The Connector uses the environment module, which is everything needed to connect a bot to the game and get and send information from the bot to the game. Finally, the Goal Agent consists of all the modules needed to run the bot.

This starts with the service.mas2g file, which is more or less the main class from which everything happens. This makes use of the init.mod2g file to get all data it needs at the start of the game, and events to get data which is changed, added or removed later in the game. Finally it uses service.mod2g, which handles the main actions the bot does. It uses goals, beliefs, and knowledge as data it can use and the other mod.2g as actions it does (for example build.mod2g for building).

\subsection{Hardware/software mapping}
Our virtual human uses a different connection approach to the server than a real human user. When a session is created via the server, a user connects through its own client to that session. Our virtual human will connect to the session using a connector and the Tygron SDK. Visualisation of the actions performed by the virtual human are visible through a seperate instance of the Tygron Engine.

\begin{figure}
	\centering
	\includegraphics[width=0.5\textwidth]{Hardware_software_mapping}
	\caption{Hardware software mapping}
	\label{fig:Hard_soft_map}
\end{figure}

\subsection{Persistent data management}
Our GOAL agent is not responsible for storing persistent data, so it does not have external files or databases. This is so because just like a regular user would save his progress on the tygron server, our bot will ensure everything is stored on the database of the Tygron server as well.

\subsection{Concurrency}
Our GOAL Agent is just one process. It shares recourses with other users of the Tygron environment. If a deadlock occurs, this would be on the Tygron environment and not very differently than when a deadlock would occur with human users. That is why our GOAL system won't have issues with deadlocks.
\newpage
